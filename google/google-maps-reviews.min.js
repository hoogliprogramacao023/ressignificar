function googlePlaces(elem,head,options){var settings={header:"<h3>Google Reviews</h3>",footer:"",max_rows:4,min_rating:4,months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],text_break_length:"90",shorten_names:!0,replace_anonymous:!1,anonymous_name:"A Google User",anonymous_name_replacement:"User chose to remain anonymous",show_date:!1,show_profile_picture:!0,placeId:""};settings=Object.assign({},settings,options);var target_div=document.getElementById(elem),target_div_head=document.getElementById(head),renderHeader=function(place){var html="";html+="Avaliações: "+renderStarsHead(place),target_div_head.innerHTML+=html},renderFooter=function(footer){var html="";html+="<br>"+footer+"<br>",target_div.innerHTML+=html},shortenName=function(name){if(name.split(" ").length>1){var split_name=name.split(" "),first_name=split_name[0],last_name_first_letter=split_name[1][0];return"."==last_name_first_letter?first_name:first_name+" "+last_name_first_letter+"."}return null!=name?name:settings.anonymous_name},renderStarsHead=function(place){for(var stars='<div class="review-stars"><ul style="display: inline-flex;">',i=0;i<place.rating;i++)stars+='<li><i class="fas fa-star" style="color:#ffc107;"></i></li>';if(place.rating<5)for(var i=0;i<5-place.rating;i++)stars+='<li><i class="far fa-star" style="color:#a07b0a;"></i></li>';return stars+="</ul><span>("+place.user_ratings_total+")</span> <span> "+place.rating+" de 5</span></div>"},renderStars=function(rating){for(var stars='<div class="review-stars"><ul style="display: inline-flex;">',i=0;i<rating;i++)stars+='<li><i class="fas fa-star" style="color:#ffc107;"></i></li>';if(rating<5)for(var i=0;i<5-rating;i++)stars+='<li><i class="far fa-star" style="color:#a07b0a;"></i></li>';return stars+="</ul></div>"},convertTime=function(UNIX_timestamp){var a=new Date(1e3*UNIX_timestamp),months=settings.months,time;return a.getDate()+"/"+months[a.getMonth()]+"/"+a.getFullYear()},filterReviewsByMinRating=function(reviews){if(void 0===reviews)return[];for(var i=reviews.length-1;i>=0;i--)reviews[i].rating<settings.min_rating&&reviews.splice(i,1);return reviews},sortReviewsByDateDesc=function(reviews){return void 0!==reviews&&null!=reviews&&null!=reviews.length&&reviews.length>0?reviews.sort((function(a,b){return a.time>b.time?1:b.time>a.time?-1:0})).reverse():[]},renderReviews=function(reviews){reviews.reverse();for(var html="",row_count=settings.max_rows>0?settings.max_rows-1:reviews.length-1,i=row_count=row_count>reviews.length-1?reviews.length-1:row_count;i>=0;i--){var review=reviews[i],stars=renderStars(review.rating),date=convertTime(review.time),name=settings.shorten_names?shortenName(review.author_name):review.author_name,length=230,review_text=review.text.length>230?review.text.substring(0,227)+"...":review.text;name=rescueAnonymousReviews(review,name),html=html+"<div class='testimonial-item line-top mt-1 mb-5'><div class='client-content'><p>\""+review_text+"\"</p></div><div class='client-info'><div class='thumb'><img src='"+review.profile_photo_url+"' alt='Image' width='84px' height='84px'></div><div class='desc'><h4 class='name'>"+name+"</h4>"+stars+"</div><div class='icon-quote'><span>Postado no<img src='img/google-logo.svg' width='70px' height='24px'></span></div></div></div>"}target_div.innerHTML+=html},rescueAnonymousReviews=function(review,name){return 1!=settings.replace_anonymous||""==settings.anonymous_name||review.author_name.toLowerCase()!=settings.anonymous_name.toLowerCase()&&null!=review.author_name||""==settings.anonymous_name_replacement?name:settings.anonymous_name_replacement},service=new google.maps.places.PlacesService(target_div);const request={placeId:settings.placeId};var callback=function(place,status){if(status==google.maps.places.PlacesServiceStatus.OK){var filtered_reviews=filterReviewsByMinRating(place.reviews),sorted_reviews=sortReviewsByDateDesc(filtered_reviews);sorted_reviews.length>0&&(renderHeader(place),renderReviews(sorted_reviews),renderFooter(settings.footer))}};return void 0===settings.placeId||""===settings.placeId?(console.error("NO PLACE ID DEFINED"),!0):service.getDetails(request,callback)}